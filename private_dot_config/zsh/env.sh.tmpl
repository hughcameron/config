# Environment variables

export EDITOR="hx"
export VISUAL="hx"

export XDG_CONFIG_HOME="$HOME/.config"
{{ if eq .chezmoi.os "darwin" -}}
export XDG_DATA_DIR="$HOME/Library/Caches"
{{ else -}}
export XDG_DATA_DIR="$HOME/.local/share"
{{ end -}}

export STARSHIP_CONFIG="$HOME/.config/starship/starship.toml"

export COLORTERM="truecolor"
{{ if eq .chezmoi.os "linux" -}}
# SSH doesn't forward TERM/TERM_PROGRAM; set Ghostty identity
# so yazi detects Kitty graphics protocol for image preview
export TERM="${TERM:-xterm-ghostty}"
export TERM_PROGRAM="${TERM_PROGRAM:-ghostty}"
{{ else -}}
export TERM="${TERM:-xterm-256color}"
{{ end -}}

{{ if eq .chezmoi.os "darwin" -}}
export HOMEBREW_BUNDLE_FILE="$HOME/.config/homebrew/brewfile-darwin.txt"
{{ else -}}
export HOMEBREW_BUNDLE_FILE="$HOME/.config/homebrew/brewfile-linux.txt"
{{ end -}}

{{ if eq .chezmoi.os "darwin" -}}
# Propagate env vars to GUI apps on macOS
launchctl setenv XDG_CONFIG_HOME "$HOME/.config"
launchctl setenv XDG_DATA_DIR "$HOME/Library/Caches"
{{ end -}}
